<div class="max-w-5xl mx-auto mt-8">
  <div class="text-4xl font-bold bg-gradient-to-r from-orange-500 via-yellow-300 to-amber-400 bg-clip-text text-transparent inline-block">Événements à venir</div>
  <div class="flex w-full p-7">
    <button class="btn btn-primary grid h-20 flex-grow card rounded-box place-items-center" (click)="sortEvent(1)">Tri par lieu</button>
    <div class="divider divider-horizontal"></div>
    <button class="btn btn-primary grid h-20 flex-grow card rounded-box place-items-center" (click)="sortEvent(2)">Tri par type</button>
    <div class="divider divider-horizontal"></div>
    <a routerLink="/evenements/create"><button class="btn btn-primary grid h-20 flex-grow card rounded-box place-items-center">Créer un évènement</button></a>
  </div>
  <div class="border-l-2 border-gray-500 pl-8">
    @if(messageService.getMessage()!=''){
    <div role="alert" class="alert alert-success">
      <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
      <span>{{messageService.getMessage()}}</span>
    </div>
    }
    @if (loading) {
      <span class="loading loading-dots loading-xl"></span>
    }
    @else {
      @for(event of events;track event.id){
    <div class="flex flex-col md:flex-row md:justify-between mt-4">

        <div class="mb-4 md:mb-0">
          <h3 class="text-xl font-bold mb-2">{{event.titre}}</h3>
          <p class="text-gray-600 text-sm">Date: {{event.date_event}}</p>
          <p class="text-gray-600 text-sm">Lieu: {{event.lieu.nom }}</p>
          <p class="text-gray-600 text-sm">Type: {{event.titre}}</p>
          <a routerLink="/evenements/{{event.id}}">
            <button class="btn btn-primary w-1/2 h-1/3 mt-3 text-sm">Détails</button>
          </a>
        </div>
      <div class="w-64">
        <p class="font-bold text-left">Avec :</p>
        <ul>
          @for(artist of getArtistes(event.id) ; track artist.id){
          <li>{{artist.nom}}</li>
          }
        </ul>
      </div>
    </div>
    }
    }
  </div>
</div>
